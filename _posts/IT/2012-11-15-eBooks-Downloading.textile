---
layout: indexed
title: 電子書下載入門篇
tags: 電腦
categories:
- 挨踢
- 自選集
date: '2012/11/15 00:52:00'
---
在現實生活的圈子裡，我也算是個下載中文電子書的「高手」了。現在「高手」把自己掌握的基本方法講出來，實現電子書下載方法親民化，讓大家知道，所謂「高手」，其實祇是有點神祕而已，一點也不「高」。
現在，中文電子書主要還是超星公司掃描並提供下載的，所以本文也圍繞超星系列展開，而不涉及其他如 Google Books, 哈佛，東大，早稻田，韓國奎章閣等機構（這些機構基本上用瀏覽器 + Internet Download Manager 就能下載， Google 有些書加個美國代理，日系的用 QQ 旋風或迅雷更佳），也不涉及浙江大學的 CADAL ，因為本「高手」不會。

h2. 超星公司基本架構

本體當然是超星。
然後他開設了一個叫<a href="http://www.duxiu.com" rel="external">讀秀</a>的東西，類似 Google Scholar ，但沒那麼完善，祇有書做得比較好。讀秀主要是通過銷售授權的方式給各機構使用，一般人只能「試用」。於是又有了一個<a href="http://www.zhizhen.com" rel="external">指針</a>，這是全部人都可以看的。又有一種特殊機構專用的，叫大醫，都是醫生用，跟讀秀非常像。
超星和讀秀是超星公司的兩大主脈，由此衍生出很多支脈，比如超星在很多機構都有鏡像站，但是書籍清晰度不高，沒什麼價值。超星還在北美開了個分店，不過書不多。讀秀/指針也有很多分身，基本上就是替換了域名而已。
我們關注超星和讀秀就可以了。

h2. 什麼書可以下載到

超星不是萬能的，不可能什麼書都有。超星主要掃描什麼書？由於超星的主要購買者是大學和研究機構，散戶不多，所以超星主要掃描通常高校館藏裡會有的書。也就是說，會稍微偏重學術類一些。由於超星主要藉助國內高校的館藏，因此國內出版的書籍佔了絕大多數。基本上，你需要的國內學術書有九成以上能找到，而台灣、香港學術書，成功率不到三成。
對於超星未掃描，而購買了讀秀權限的機構又有實體書的，讀秀會製作一個鏈接。這種書我們叫「無試讀」，又諧音叫「五十度」。連同其他超星掃描並上傳了，但讀秀和超星都搜索不到的書，都叫「無試讀」。
無試讀的書祇有超級高手能下載。
我們能下載的書，祇有通過讀秀能搜索到，並且在有機構帳號的情況下，書籍名稱旁邊有「部分閱讀」或「包庫全文」再或「鏡像全文」的書。

h2. 下載到什麼東西

標準的超星格式是 pdg ，但下載到的書的文件夾裡，通常會有 `bookinfo.dat` 和 `bookcontent.dat` 兩個文件。前者給出書籍的版權信息，如書名、作者、出版社、年份等（經常有缺失，而且還有搞錯的），後者是書籤文件（錯誤往往比較多，有的還沒有）。
我們又把下載到的 pdg 分為幾等：
第一等叫清晰版，分辨率為 300dpi ，對於 32k 的書，他的圖像寬度總是在 1000 以上。清晰版有很多種加密格式，不過本文較多涉及的可以分為四種。第一種叫作 04H ，就是彩圖，有時黑白的書也用這種格式，很浪費空間。第二種稱為 00H ，是單純黑白的，沒有灰度，非常節約空間。第三種是高度加密格式，包括高密 pdg 和新出的 pdz ，用了適當工具後不會下載到高密 pdg ， pdz 是新東西，也很少見，不討論。第四種是 pdf ，這種不是標準的，而是具有超星特色的 pdf ，本人同樣不會下載，也不希望自己下載到的書變成這樣，不討論。
第二等叫大圖，分辨率為 150dpi ，寬度 983 。他會把黑白的書變成灰度的，所以體積經常比較大，看起來卻灰濛濛的。大圖如果沒下對就會變成寬度更小的中圖和小圖。由於沒有討論價值，本文不討論中圖和小圖。
第三等叫快速版，分辨率為 150dpi ，寬度——反正很小，字也不清楚，還經常好像缺了幾個筆劃一樣。一般出現在「鏡像全文」和一些不懂操作的低手那裡，沒有用處，不討論。
第四等叫文本。文件名是 n\_n.pdg 格式，本質是文本 pdf ，但經過加密。這是超星掃描後 OCR 成文本的書，錯字連篇，比快速版還沒用。
第五等是神祕的印前 pdg ，也就是出版社直接把小樣給了超星，超星轉成他的格式。這種格式文件命名規則和文本 pdg 一樣，但排版是正確的，而且很節約空間，而且特別清晰，但是可遇不可求，本「高手」沒見過。
綜上，正確下載的情況下，我們一般會下載到未加密的清晰版、大圖、文本三種。其中對學術研究有用的是清晰版和大圖。由於大圖明顯劣於清晰版，所以最好還是下載清晰版。

h2. 下載了用什麼查看、檢查

雖然官方閱覽器可以看，但是不好用，懂行的都用 UnicornViewer 看，版本越高越好，但高版本沒有向社會公佈。
超星真的很過分，經常發生一頁祇下載了一半，或者乾脆某頁沒下載的情況，可以用 PdgThumbViewer 來檢查。
二者的開發者是同一個人。順便說一下，二者均可用於檢驗下載到的書籍屬於哪一等。

h2. 下載清晰版

說起來似乎非常簡單。你登入讀秀，搜索你要的書，看到了，然後點「包庫全文」，再點紅色超星 logo ，自動打開超星閱覽器，右鍵，下載，就好了。或者你打開超星包庫，搜索，點「閱覽器閱讀」，自動打開超星閱覽器，右鍵，下載，也好了。
滴滴——錯誤一，你看不到「包庫全文」字樣？說明你的機構沒有購買該書的權限，不能下載。你有兩個選擇：下大圖（後面會講）、換機構（後面也會講）。
滴滴——錯誤二，點了「包庫全文」，卻發現打開的書竟然是文本的？這是個技術難題，有高手能解決，本「高手」不能。
滴滴——錯誤三，下載後不能用 UnicornViewer 看。當然了，通過官方方式下載的，下載時閱覽器都會熱心的幫你加密一下。解決方法是：使用超星 4.0 ，並打上老鷹版 ssreader.exe 的補丁。
滴滴——錯誤四，封面、書名頁、版權頁去哪裡了？答案是超星包庫沒有，祇有讀秀上有 150dpi 的。建議使用 down dx, dx\_fill\_page 或叉叉貓的 DuxiuTools 補一下，不過書名有時需要手動修正，不然程序搜索不到。
滴滴——錯誤五，其實書名頁是可以下載到清晰版的，就是用棒棒糖 CxCandy 。當超星裡正在閱讀某書的時候，點一下「全自動新建」，然後確定，下載，即可。由於網上的棒棒糖是單線程的，我一般祇用來下載書名頁。

h2. 下載大圖

這是退而求次的無奈選擇。
對於有「包庫全文」的書，還是比較容易換成大圖的。就是在點了「包庫全文」後進入的鏈接，把鏈接複製到專用工具裡，就行了。不過幾乎所有書籍都可以獲得大圖。方法就是，進入要下載的書籍的專頁後，點「圖書館文獻傳遞」，按要求輸入，然後郵箱會收到諮詢鏈接，處理方式同全文。諮詢有限制，需要多找幾個機構帳接力。
下載大圖的工具極多，比如大圖下載器， DuxiuTools, OnlyDown, jpgdown, dxzx, down dx 等。
不過，不是每本書都有「圖書館文獻傳遞」。

h2. 機構

每個機構出的錢不同，讀秀給予的權限也不同。有的讀秀帳號根本不能直接讀全文，這就要看他的超星的具體情況。對於讀秀有全文的，搜索書名包含「寶典」的書，如果「包庫全文」僅有三百多，這種號的包庫權限是最低的，是其他機構的子集；如果是七百多，這是中等權限，是高檔機構的子集；高檔機構就是八百以上的，每個那七百多以外的都不同，如果你掌握了所有高檔機構，絕對很爽。
高檔機構包括但不限於同濟、復旦、上交、華東師大、上海外國語、上海大學、上海師大、礦大、陝西師大、內蒙科大、北大、清華、南開、江西財經、中南財經政法、大醫
不是高等權限（往往是有不少清晰度很低的「鏡像全文」），如：南大、浙大、人大、西交、外經貿、沈陽師範、東南、北師大、北航、上理、北工、北理、四川師範、深大、上海第二外國語、山西大學
高檔機構中，同濟、復旦、上海大學、礦大最多，所以必備其一。然後要備陝西師大，他雖然不算很多，但奇怪的是，同濟、復旦及很多機構的雷同程度很高，而陝西師大和同濟幾乎是互補的，甚至有同濟體系有上冊，而陝西師大有下冊，這樣奇葩的情況，簡直是故意的。其餘就韓信點兵吧。
再介紹一個神奇的機構：寧波大學。別的機構沒有「圖書館文獻傳遞」的，他有，而且他的諮詢沒有限制。
若說便捷好用，大醫當然最好，不過資料得合適你才行。一般高校的，陝西師大、礦大等高校的系統最好用，登入後不必下載什麼程序，也不必掛代理，直接幫你改鏈接。其次是復旦、上交、北大這類加密代理，祇要做好瀏覽器設置就行了。像 Chrome 和 Firefox 都有非常好的代理切換插件，也相當方便的。最噁心就是同濟、華東師大、人大這類純 VPN 系統，需要下載插件，而且會全局更換 IP ，非常不方便。

h2. 後期處理

超星有的書，掃描質量不好恭維，發白、發暗、有麻點，怎麼辦？
最常見的辦法：先用 Pdg2Pic 轉成圖片，再用 ComicEnhancerPro 批量處理圖片，最後重命名為 pdg ，或者用其他工具加密成 pdg 。
最懶的辦法： MagicBeauty 直接處理。
最好的辦法：別動，用高版本 UnicornViewer 開，並用他的圖像處理功能處理。
還有人對轉換成 pdf 情有獨鐘。用 Pdg2Pic 即可。
這裡倒是隨口扯一句非讀秀/超星的電子書，因為這些書才是不規範、需要修正的。
首先是 Google Books 。如果你下載的是英文書，那沒大問題，但中文古籍卻經常「倒裝」——洋人往往不知道我天朝的傳統書籍跟他們是倒過來的。簡單， PDFPatcher 就可以。 PDFPatcher 還可以用於 PDF 拆頁，但是 Google 很不厚道的把一些頁面挖下幾個字再補上去，如果你拆頁成圖片，這些補丁就回不去了……
然後是網友自掃的書籍。一般來說，用 ComicEnhancerPro 就能收到比較好的效果，但對於一些比較變態的，就要用點特殊手段。比如很多人掃描是雙頁掃的， ComicEnhancerPro, IrfanView, GIMP, Photoshop 等軟件的批處理基本上需要做兩次才能分開一頁， PDF 倒是有海德堡插件和其他小軟件可以分頁，不過多數是假分頁，即，如果你真正導出圖片時，這些圖片還是沒分頁的。這時候用 ImageMagick 這個命令行操作的神軟更好。自掃經常碰上彩色的，非常佔空間，可以用 ComicEnhancerPro 或 ImageMagick 處理成單色。但有的掃描時書溝比較深，直接單色處理會使得靠近書溝的部分變成黑色的，還有如果用比較深色的筆做筆記，有時會蓋住字，單色的直接一團黑了。因此可能需要處理成灰度圖像，或者通過調整伽馬值、高亮、對比度、曲線等等多方面來達到滿意的效果。

h2. 結論

一、要下就下清晰或印前 pdg
二、準備好同濟、復旦、陝西師大帳號，其他高檔機構多多益善
三、清晰 pdg 需要超星、老鷹、棒棒糖協作下載，用 down dx 和 dx\_fill\_page 補頁，然後用 UnicornViewer 閱讀
四、自己下不到，就去求書
五、求書帖沒人搭理，再下大圖
六、叢書儘量別自己慢慢下
七、下載回來的東西儘量不做有損處理，以免他日後悔